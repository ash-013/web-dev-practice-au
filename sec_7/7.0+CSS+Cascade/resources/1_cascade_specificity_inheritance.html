<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Cascade, Specificity & Inheritance - Complete Guide</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 4px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #2980b9;
            margin-top: 40px;
            border-left: 5px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #34495e;
            margin-top: 30px;
        }
        .section {
            background: white;
            padding: 30px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }
        .example {
            border: 2px solid #3498db;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            background: #ecf0f1;
        }
        .demo {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border: 1px solid #bdc3c7;
            border-radius: 3px;
        }
        .highlight {
            background: #fff9c4;
            padding: 2px 5px;
            border-radius: 3px;
        }
        .specificity-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .specificity-table th,
        .specificity-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .specificity-table th {
            background: #3498db;
            color: white;
        }
        .specificity-table tr:nth-child(even) {
            background: #f2f2f2;
        }
        .note {
            background: #e8f4f8;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>üé® CSS Cascade, Specificity & Inheritance - Complete Guide</h1>

    <div class="section">
        <h2>1. The CSS Cascade</h2>
        <p>The <strong>Cascade</strong> is the algorithm that determines which CSS rules apply when multiple rules target the same element. It's the "C" in CSS (Cascading Style Sheets).</p>

        <h3>1.1 How the Cascade Works</h3>
        <p>When multiple CSS rules apply to the same element, the browser follows this priority order:</p>
        <ol>
            <li><strong>Origin and Importance</strong></li>
            <li><strong>Specificity</strong></li>
            <li><strong>Order of Appearance</strong></li>
        </ol>

        <h3>1.2 Origin and Importance</h3>
        <p>CSS can come from different sources (origins), and they have different priorities:</p>

        <div class="code-block">
/* Priority Order (Highest to Lowest): */

1. User Agent !important (Browser defaults with !important)
2. User !important (User's custom stylesheet with !important)
3. Author !important (Your CSS with !important)
4. CSS Animations
5. Author styles (Your normal CSS)
6. User styles (User's custom stylesheet)
7. User Agent styles (Browser defaults)
        </div>

        <div class="example">
            <h4>Example: !important Declaration</h4>
            <div class="code-block">
/* CSS */
.button {
    background-color: blue;
}

.button {
    background-color: red !important; /* This wins! */
}

.button {
    background-color: green; /* This is ignored */
}
            </div>
            <div class="demo">
                <button style="background-color: red !important; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">
                    I'm Red (because of !important)
                </button>
            </div>
        </div>

        <div class="warning">
            <strong>‚ö†Ô∏è Warning:</strong> Avoid using <code>!important</code> unless absolutely necessary. It makes debugging difficult and breaks the natural cascade flow.
        </div>

        <h3>1.3 Order of Appearance (Source Order)</h3>
        <p>When rules have the same specificity, the last one defined wins:</p>

        <div class="code-block">
/* CSS */
p { color: blue; }
p { color: red; }   /* This wins because it comes last */
p { color: green; } /* This wins because it's the last one */
        </div>

        <div class="example">
            <h4>Example: Multiple Stylesheets</h4>
            <div class="code-block">
&lt;!-- HTML --&gt;
&lt;link rel="stylesheet" href="style1.css"&gt;
&lt;link rel="stylesheet" href="style2.css"&gt;
&lt;link rel="stylesheet" href="style3.css"&gt;

&lt;!-- If all three files have rules for the same element
     with same specificity, style3.css wins --&gt;
            </div>
        </div>
    </div>

    <div class="section">
        <h2>2. Specificity</h2>
        <p><strong>Specificity</strong> is how browsers decide which CSS rule applies when multiple rules could apply to the same element. Think of it as a "score" for each selector.</p>

        <h3>2.1 Specificity Calculation</h3>
        <p>Specificity is calculated using four categories (represented as A-B-C-D):</p>

        <table class="specificity-table">
            <thead>
                <tr>
                    <th>Category</th>
                    <th>What it Counts</th>
                    <th>Value</th>
                    <th>Example</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>A</strong></td>
                    <td>Inline styles</td>
                    <td>1000</td>
                    <td><code>style="color: red;"</code></td>
                </tr>
                <tr>
                    <td><strong>B</strong></td>
                    <td>IDs</td>
                    <td>100</td>
                    <td><code>#header</code></td>
                </tr>
                <tr>
                    <td><strong>C</strong></td>
                    <td>Classes, attributes, pseudo-classes</td>
                    <td>10</td>
                    <td><code>.button</code>, <code>[type="text"]</code>, <code>:hover</code></td>
                </tr>
                <tr>
                    <td><strong>D</strong></td>
                    <td>Elements, pseudo-elements</td>
                    <td>1</td>
                    <td><code>div</code>, <code>p</code>, <code>::before</code></td>
                </tr>
            </tbody>
        </table>

        <h3>2.2 Specificity Examples with Calculations</h3>

        <div class="example">
            <h4>Example 1: Simple Selectors</h4>
            <div class="code-block">
/* Selector                    | A | B | C | D | = Specificity */
p                              /* 0   0   0   1   = 0,0,0,1 */
.intro                         /* 0   0   1   0   = 0,0,1,0 */
#main                          /* 0   1   0   0   = 0,1,0,0 */
&lt;div style="color: red;"&gt;     /* 1   0   0   0   = 1,0,0,0 */

/* Winner: inline style (1,0,0,0) beats everything below */
            </div>
        </div>

        <div class="example">
            <h4>Example 2: Combined Selectors</h4>
            <div class="code-block">
/* CSS */
p { color: black; }                    /* 0,0,0,1 */
.text { color: blue; }                 /* 0,0,1,0 - WINS over p */
div p { color: green; }                /* 0,0,0,2 */
.container .text { color: purple; }    /* 0,0,2,0 - WINS over .text */
#main .text { color: red; }            /* 0,1,1,0 - WINS over everything above */
            </div>
            <div class="demo">
                <div id="main" class="container">
                    <p class="text" style="color: red;">This text will be RED (specificity: 0,1,1,0)</p>
                </div>
            </div>
        </div>

        <div class="example">
            <h4>Example 3: Complex Specificity Battle</h4>
            <div class="code-block">
/* HTML */
&lt;div id="content" class="main"&gt;
    &lt;p class="text highlight"&gt;Sample text&lt;/p&gt;
&lt;/div&gt;

/* CSS */
p.text {
    color: blue;                    /* 0,0,1,1 */
}

div p {
    color: green;                   /* 0,0,0,2 */
}

.main .text {
    color: purple;                  /* 0,0,2,0 - WINS so far */
}

#content p {
    color: orange;                  /* 0,1,0,1 - WINS! */
}

#content .text.highlight {
    color: red;                     /* 0,1,2,0 - ULTIMATE WINNER! */
}
            </div>
        </div>

        <div class="note">
            <strong>üí° Tip:</strong> Specificity is calculated from left to right. One ID (0,1,0,0) beats any number of classes (0,0,999,0).
        </div>

        <h3>2.3 The Universal Selector and Combinators</h3>

        <div class="code-block">
/* These have NO specificity value (0,0,0,0) */
* { }                    /* Universal selector */
div > p { }              /* Child combinator */
div + p { }              /* Adjacent sibling */
div ~ p { }              /* General sibling */

/* The specificity comes only from the selectors themselves */
div > p.intro { }        /* 0,0,1,2 (one class, two elements) */
        </div>

        <h3>2.4 :not() Pseudo-class Specificity</h3>

        <div class="example">
            <h4>Example: :not() Specificity</h4>
            <div class="code-block">
/* :not() itself has NO specificity,
   but its argument does! */

:not(p) {
    color: blue;         /* 0,0,0,1 - same as p */
}

:not(.intro) {
    color: red;          /* 0,0,1,0 - same as .intro */
}

div:not(#main) {
    color: green;        /* 0,1,0,1 - div (1) + #main (100) = 101 */
}
            </div>
        </div>

        <h3>2.5 Practical Specificity Tips</h3>

        <div class="example">
            <h4>Best Practices for Managing Specificity</h4>
            <div class="code-block">
/* ‚ùå BAD: Too specific, hard to override */
#header div.nav ul li a.active {
    color: red;          /* 0,1,3,3 - specificity nightmare! */
}

/* ‚úÖ GOOD: Use classes, keep specificity low */
.nav-link-active {
    color: red;          /* 0,0,1,0 - easy to work with */
}

/* ‚ùå BAD: Using IDs for styling */
#button {
    background: blue;
}

/* ‚úÖ GOOD: Use classes for styling */
.button {
    background: blue;
}

/* Use IDs for JavaScript only */
            </div>
        </div>
    </div>

    <div class="section">
        <h2>3. Inheritance</h2>
        <p><strong>Inheritance</strong> is the mechanism by which some CSS properties are passed from parent elements to their children.</p>

        <h3>3.1 Inherited vs Non-Inherited Properties</h3>

        <div class="example">
            <h4>Properties That ARE Inherited</h4>
            <div class="code-block">
/* Text-related properties */
color
font-family
font-size
font-weight
font-style
line-height
letter-spacing
text-align
text-indent
text-transform
white-space
word-spacing

/* List properties */
list-style
list-style-type
list-style-position

/* Other */
cursor
visibility
            </div>
        </div>

        <div class="example">
            <h4>Properties That ARE NOT Inherited</h4>
            <div class="code-block">
/* Box model properties */
width, height
margin, padding
border

/* Positioning */
position, top, right, bottom, left
z-index

/* Display */
display

/* Background */
background, background-color, background-image

/* Transform & Animation */
transform
animation
transition
            </div>
        </div>

        <h3>3.2 Inheritance in Action</h3>

        <div class="example">
            <h4>Example 1: Text Inheritance</h4>
            <div class="code-block">
/* CSS */
body {
    font-family: Arial, sans-serif;
    color: #333;
    font-size: 16px;
}

/* All child elements inherit these properties! */
/* No need to repeat them for p, div, span, etc. */
            </div>
            <div class="demo">
                <div style="font-family: Arial, sans-serif; color: #333; font-size: 16px; border: 2px dashed #ccc; padding: 15px;">
                    <h3 style="margin-top: 0;">Parent Container</h3>
                    <p>This paragraph inherits font-family, color, and font-size from parent.</p>
                    <span>This span also inherits these properties.</span>
                </div>
            </div>
        </div>

        <div class="example">
            <h4>Example 2: Non-Inherited Properties</h4>
            <div class="code-block">
/* CSS */
.parent {
    border: 5px solid blue;
    padding: 20px;
    background-color: lightblue;
}

/* Child does NOT inherit border, padding, or background */
.child {
    /* Must explicitly set these if wanted */
}
            </div>
            <div class="demo">
                <div style="border: 5px solid blue; padding: 20px; background-color: lightblue;">
                    <div style="border: 2px solid red; padding: 10px; margin: 10px 0;">
                        Child div (notice it doesn't inherit parent's border/background)
                    </div>
                </div>
            </div>
        </div>

        <h3>3.3 Controlling Inheritance</h3>

        <div class="example">
            <h4>Inheritance Control Keywords</h4>
            <div class="code-block">
/* CSS */
.element {
    /* Force inheritance (even for non-inherited properties) */
    border: inherit;
    
    /* Use initial value defined in CSS spec */
    color: initial;
    
    /* Reset to inherited value or initial if not inherited */
    font-size: unset;
    
    /* Revert to user agent stylesheet */
    display: revert;
}
            </div>
        </div>

        <div class="example">
            <h4>Example: inherit Keyword</h4>
            <div class="code-block">
/* HTML */
&lt;div class="parent"&gt;
    &lt;button class="child-button"&gt;Click me&lt;/button&gt;
&lt;/div&gt;

/* CSS */
.parent {
    color: blue;
    border: 3px solid red;
}

.child-button {
    color: inherit;          /* Gets blue from parent */
    border: inherit;         /* Gets red border from parent */
    /* Normally buttons don't inherit these */
}
            </div>
            <div class="demo">
                <div style="color: blue; border: 3px solid red; padding: 20px;">
                    <button style="color: inherit; border: inherit; padding: 10px 20px; cursor: pointer; background: white;">
                        I inherit color and border!
                    </button>
                </div>
            </div>
        </div>

        <div class="example">
            <h4>Example: initial Keyword</h4>
            <div class="code-block">
/* CSS */
.parent {
    color: red;
    font-weight: bold;
}

.child {
    color: initial;          /* Reset to black (CSS initial value) */
    font-weight: initial;    /* Reset to normal */
}
            </div>
        </div>

        <div class="example">
            <h4>Example: unset Keyword</h4>
            <div class="code-block">
/* CSS */
.parent {
    color: red;              /* Inherited property */
    border: 2px solid blue;  /* Non-inherited property */
}

.child {
    color: unset;            /* Acts like inherit ‚Üí red */
    border: unset;           /* Acts like initial ‚Üí none */
}
            </div>
        </div>

        <h3>3.4 The all Property</h3>

        <div class="example">
            <h4>Reset All Properties</h4>
            <div class="code-block">
/* CSS */
.reset-everything {
    all: initial;    /* Reset ALL properties to initial values */
}

.inherit-everything {
    all: inherit;    /* Force ALL properties to inherit */
}

.unset-everything {
    all: unset;      /* Unset ALL properties */
}

.revert-everything {
    all: revert;     /* Revert ALL properties to user agent styles */
}
            </div>
        </div>

        <h3>3.5 Practical Inheritance Example</h3>

        <div class="example">
            <h4>Setting Up Base Typography</h4>
            <div class="code-block">
/* CSS */
/* Set base styles on body - children inherit */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 16px;
    line-height: 1.6;
    color: #333;
}

/* All text elements inherit these properties */
/* No need to repeat! */

h1, h2, h3 {
    /* Only override what's different */
    font-weight: bold;
    /* font-family and color are inherited */
}

a {
    /* Links need explicit color (user agent default is blue) */
    color: inherit;  /* Use parent's color instead */
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}
            </div>
        </div>
    </div>

    <div class="section">
        <h2>4. Cascade, Specificity, and Inheritance Together</h2>

        <div class="example">
            <h4>Complete Example: All Three Concepts</h4>
            <div class="code-block">
/* HTML */
&lt;body&gt;
    &lt;div class="container" id="main"&gt;
        &lt;p class="text highlight"&gt;
            Hello &lt;span class="emphasis"&gt;World&lt;/span&gt;!
        &lt;/p&gt;
    &lt;/div&gt;
&lt;/body&gt;

/* CSS */

/* 1. Base inheritance setup */
body {
    font-family: Arial, sans-serif;  /* Inherited by all */
    color: #333;                     /* Inherited by all */
    font-size: 16px;                 /* Inherited by all */
}

/* 2. Specificity examples */
p {
    color: blue;                     /* 0,0,0,1 */
    margin: 10px;                    /* Not inherited */
}

.text {
    color: green;                    /* 0,0,1,0 - WINS over p */
}

#main p {
    color: purple;                   /* 0,1,0,1 - WINS over .text */
}

.container .text.highlight {
    color: red;                      /* 0,0,3,0 - LOSES to #main p */
}

#main .text {
    color: orange !important;        /* WINS! (importance) */
}

/* 3. Span inherits color from parent p */
span.emphasis {
    font-weight: bold;               /* Only adds weight */
    /* color is inherited from p element */
}
            </div>
            <div class="note">
                <strong>Result:</strong> The paragraph will be orange (due to !important), and the span will also be orange (inherited), but bold.
            </div>
        </div>

        <h3>4.1 Decision Flow Chart</h3>
        <div class="code-block">
When determining which style to apply:

1. Is there an !important declaration?
   YES ‚Üí Use the most specific !important rule
   NO  ‚Üí Continue to step 2

2. Compare specificity of all applicable rules
   ‚Üí Use the rule with highest specificity
   ‚Üí If tied, continue to step 3

3. Which rule comes last in source order?
   ‚Üí Use the last declared rule

4. Is the property inherited?
   YES ‚Üí Look up parent chain for value
   NO  ‚Üí Use initial value from CSS spec
        </div>

        <h3>4.2 Common Pitfalls and Solutions</h3>

        <div class="warning">
            <h4>Pitfall 1: Over-Specific Selectors</h4>
            <div class="code-block">
/* ‚ùå PROBLEM: Too specific */
#header nav ul li a.active {
    color: red;  /* 0,1,2,2 - very hard to override */
}

/* ‚úÖ SOLUTION: Use simpler class */
.nav-link-active {
    color: red;  /* 0,0,1,0 - easy to work with */
}
            </div>
        </div>

        <div class="warning">
            <h4>Pitfall 2: !important Overuse</h4>
            <div class="code-block">
/* ‚ùå PROBLEM: !important makes maintenance hard */
.button {
    background: blue !important;
    color: white !important;
    padding: 10px !important;
}

/* ‚úÖ SOLUTION: Fix specificity instead */
.button {
    background: blue;
    color: white;
    padding: 10px;
}

/* Override with more specific selector when needed */
.header .button {
    background: red;
}
            </div>
        </div>

        <div class="warning">
            <h4>Pitfall 3: Fighting Inheritance</h4>
            <div class="code-block">
/* ‚ùå PROBLEM: Repeating inherited properties */
body { font-family: Arial; }
h1 { font-family: Arial; }
h2 { font-family: Arial; }
p { font-family: Arial; }
/* Repetitive and unnecessary */

/* ‚úÖ SOLUTION: Let inheritance work */
body { font-family: Arial; }
/* All children automatically inherit */

/* Only override when needed */
.special-heading {
    font-family: 'Times New Roman';
}
            </div>
        </div>
    </div>

    <div class="section">
        <h2>5. Advanced Cascade Concepts</h2>

        <h3>5.1 Cascade Layers (@layer)</h3>
        <div class="example">
            <h4>Modern Cascade Control</h4>
            <div class="code-block">
/* CSS Cascade Layers (newer feature) */

/* Define layer order (lowest to highest priority) */
@layer reset, base, components, utilities;

@layer reset {
    * {
        margin: 0;
        padding: 0;
    }
}

@layer base {
    body {
        font-family: Arial;
        color: #333;
    }
}

@layer components {
    .button {
        padding: 10px 20px;
        background: blue;
    }
}

@layer utilities {
    .text-red {
        color: red !important;
    }
}

/* Layers have lower priority than unlayered styles */
.button {
    background: red;  /* This wins over layered .button */
}
            </div>
        </div>

        <h3>5.2 Custom Properties (CSS Variables) and Cascade</h3>
        <div class="example">
            <h4>CSS Variables Respect the Cascade</h4>
            <div class="code-block">
/* CSS */
:root {
    --main-color: blue;
}

.container {
    --main-color: red;  /* Overrides for this scope */
}

.element {
    color: var(--main-color);  /* Uses closest defined value */
}

/* CSS variables inherit! */
.parent {
    --spacing: 20px;
}

.child {
    padding: var(--spacing);  /* Inherits 20px from parent */
}
            </div>
        </div>
    </div>

    <div class="section">
        <h2>6. Summary & Best Practices</h2>

        <h3>Key Takeaways</h3>
        <ul>
            <li><strong>Cascade</strong>: Determines which rule wins when multiple rules conflict (importance ‚Üí specificity ‚Üí order)</li>
            <li><strong>Specificity</strong>: Inline (1000) > ID (100) > Class (10) > Element (1)</li>
            <li><strong>Inheritance</strong>: Some properties (mainly text-related) pass from parent to child automatically</li>
        </ul>

        <h3>Best Practices</h3>
        <div class="note">
            <ol>
                <li>Keep specificity LOW - prefer classes over IDs for styling</li>
                <li>Avoid !important - fix specificity issues instead</li>
                <li>Leverage inheritance - set base styles on parent elements</li>
                <li>Use consistent naming conventions (BEM, SMACSS, etc.)</li>
                <li>Order your CSS logically (base ‚Üí layout ‚Üí components ‚Üí utilities)</li>
                <li>Document complex specificity battles with comments</li>
                <li>Use CSS custom properties for theme values</li>
                <li>Consider CSS layers for large projects</li>
            </ol>
        </div>

        <h3>Debugging Tips</h3>
        <div class="code-block">
/* Use browser DevTools to: */
1. Inspect computed styles
2. See which rules are applied and which are overridden
3. View specificity of each rule
4. Check inherited values
5. Test changes in real-time

/* Add temporary borders to see element boundaries: */
* { border: 1px solid red; }
        </div>
    </div>

</body>
</html>